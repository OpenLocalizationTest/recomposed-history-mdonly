<properties linkid="develop-mobile-tutorials-get-started-with-data-html" writer="glenga" urlDisplayName="Get Started with Data" pageTitle="Get started with data (JavaScript) - Mobile Services" metaKeywords="" metaDescription="Learn how to get started using data with Windows Azure Mobile Services." metaCanonical="https://www.windowsazure.com/en-us/develop/mobile/tutorials/get-started-with-data-dotnet/" disqusComments="1" umbracoNaviHide="1" />

<div chunk="../chunks/article-left-menu-html.md" />

# Get started with data in Mobile Services
<div class="dev-center-tutorial-selector"> 
	<a href="/en-us/develop/mobile/tutorials/get-started-with-data-dotnet" title="Windows Store C#">Windows Store C#</a><a href="/en-us/develop/mobile/tutorials/get-started-with-data-js" title="Windows Store JavaScript">Windows Store JavaScript</a><a href="/en-us/develop/mobile/tutorials/get-started-with-data-wp8" title="Windows Phone 8">Windows Phone 8</a><a href="/en-us/develop/mobile/tutorials/get-started-with-data-ios" title="iOS">iOS</a> <a href="/en-us/develop/mobile/tutorials/get-started-with-data-android" title="Android">Android</a> <a href="/en-us/develop/mobile/tutorials/get-started-with-data-html" title="HTML" class="current">HTML</a> 
</div>	


This topic shows you how to use Windows Azure Mobile Services to leverage data in an HTML app. In this tutorial, you will download an app that stores data in memory, create a new mobile service, integrate the mobile service with the app, and then login to the Windows Azure Management Portal to view changes to data made when running the app.

<div class="dev-callout"><b>Note</b>
<p>This tutorial is intended to help you better understand how Mobile Services enables you to use Windows Azure to store and retrieve data from an HTML app. As such, this topic walks you through many of the steps that are completed for you in the Mobile Services quickstart. If this is your first experience with Mobile Services, consider first completing the tutorial <a href="/en-us/develop/mobile/tutorials/get-started-html">Get started with Mobile Services</a>.</p>
</div>

This tutorial walks you through these basic steps:

1. [Download the HTML app project]
2. [Create the mobile service]
3. [Add a data table for storage]
4. [Update the app to use Mobile Services]
5. [Test the app against Mobile Services]

This tutorial requires the [Mobile Services SDK]. 

<div class="dev-callout"><strong>Note</strong> <p>To complete this tutorial, you need a Windows Azure account that has the Windows Azure Mobile Services feature enabled.</p> <ul> <li>If you don't have an account, you can create a free trial account in just a couple of minutes. For details, see <a href="http://www.windowsazure.com/en-us/pricing/free-trial/?WT.mc_id=A756A2826&amp;returnurl=http%3A%2F%2Fwww.windowsazure.com%2Fen-us%2Fdevelop%2Fmobile%2Ftutorials%2Fget-started-with-data-html%2F" target="_blank">Windows Azure Free Trial</a>.</li> <li>If you have an existing account but need to enable the Windows Azure Mobile Services preview, see <a href="../create-a-windows-azure-account/#enable" target="_blank">Enable Windows Azure preview features</a>.</li> </ul> </div> 

You must also have a web server running on your local computer. The web server and browser must support HTML5.

<h2><a name="download-app"></a><span class="short-header">Download the project</span>Download the GetStartedWithData project</h2>

This tutorial is built on the [GetStartedWithData app][Download the HTML app project], which is an HTML5 app. The UI for this app is identical to the app generated by the Mobile Services quickstart, except that added items are stored locally in memory. 

1. [Download the HTML app project]. 

2. In an HTML editor, open the downloaded project and examine the app.js file.

   Notice that added **TodoItem** objects are stored in an in-memory **List** object.

3. _XXXX Krishnan something very genreal here about hosting the app in a Web server.XXXX_

4. Navigate to the index.html page to start the app.

4. In the app, type some text in **Insert a TodoItem**, then click **Save**.

   ![][0]  

   Notice that the saved text is displayed _XXXX Where is is stored? XXXX_.

<h2><a name="create-service"></a><span class="short-header">Create mobile service</span>Create a new mobile service in the Management Portal</h2>

Next, you will create a new mobile service to replace the in-memory list for data storage. Follow these steps to create a new mobile service.

1.	Log into the [Windows Azure Management Portal]. 
2.	At the bottom of the navigation pane, click **+NEW**.

	![][1]

3.	Expand **Compute** and **Mobile Service**, then click **Create**.

	![][2]

    This displays the **New Mobile Service** dialog.

4.	In the **Create a mobile service** page, type a subdomain name for the new mobile service in the **URL** textbox and wait for name verification. Once name verification completes, click the right arrow button to go to the next page.	

	![][3]

    This displays the **Specify database settings** page.

    <div class="dev-callout"> 
	<b>Note</b> 
	<p>As part of this tutorial, you create a new SQL Database instance and server. You can reuse this new database and administer it as you would any other SQL Database instance. If you already have a database in the same region as the new mobile service, you can instead choose <b>Use existing Database</b> and then select that database. The use of a database in a different region is not recommended because of additional bandwidth costs and higher latencies.</p></div>	

5.	In **Name**, type the name of the new database, then type **Login name**, which is the administrator login name for the new SQL Database server, type and confirm the password, and click the check button to complete the process.

	![][4]

    <div class="dev-callout"> 
	<b>Note</b> 
	<p>When the password that you supply does not meet the minimum requirements or when there is a mismatch, a warning is displayed. <br/>We recommend that you make a note of the administrator login name and password that you specify; you will need this information to reuse the SQL Database instance or the server in the future.</p> 
	</div>


You have now created a new mobile service that can be used by your mobile apps. Next, you will add a new table in which to store app data. This table will be used by the app in place of the in-memory collection.

<h2><a name="add-table"></a><span class="short-header">Add a new table</span>Add a new table to the mobile service</h2>

To be able to store app data in the new mobile service, you must first create a new table in the associated SQL Database instance.

1. In the Management Portal, click **Mobile Services**, and then click the mobile service that you just created.

2. Click the **Data** tab, then click **+Create**.

   ![][5]

   This displays the **Create new table** dialog.

3. In **Table name** type _TodoItem_, then click the check button.

  ![][6]

  This creates a new storage table **TodoItem** with the default permissions set, which means that any user of the app can access and change data in the table. 

    <div class="dev-callout"> 
	<b>Note</b> 
	<p>The same table name is used in Mobile Services quickstart. However, each table is created in a schema that is specific to a given mobile service. This is to prevent data collisions when multiple mobile services use the same database.</p> 
	</div>

4. Click the new **TodoItem** table and verify that there are no data rows.

5. Click the **Columns** tab and verify that there is only a single **id** column, which is automatically created for you.

  This is the minimum requirement for a table in Mobile Services. 

    <div class="dev-callout"><b>Note</b>
	<p>When dynamic schema is enabled on your mobile service, new columns are created automatically when JSON objects are sent to the mobile service by an insert or update operation.</p>
    </div>

You are now ready to use the new mobile service as data storage for the app.

<h2><a name="update-app"></a><span class="short-header">Update the app</span>Update the app to use the mobile service for data access</h2>

Now that your mobile service is ready, you can update the app to store items in Mobile Services instead of the local collection. 

0. If you haven't already installed the [Mobile Services SDK], install it now.

2. In the default.html project file, add the following script reference in the page header:

        XXXX I assume we still need this step. XXXX

3. In the Management Portal, click **Mobile Services**, and then click the mobile service you just created.

4. Click the **Dashboard** tab and make a note of the **Site URL**, then click **Manage keys** and make a note of the **Application key**.

   ![][8]

  You will need these values when accessing the mobile service from your app code.

5. In the editor, open the file app.js, uncomment the following code that defines the **MobileServiceClient** variable, and supply the URL and application key from the mobile service in the **MobileServiceClient** constructor, in that order:

        var MobileServiceClient = Microsoft.WindowsAzure.MobileServices.MobileServiceClient,
        client = new MobileServiceClient('APP_URL', 'APP_KEY');

  This creates a new instance of MobileServiceClient that is used to access your mobile service.

6. Uncomment the following line of code:

        var todoItemTable = client.getTable('todoitem');

   This code creates a proxy object (**todoItemTable**) for the SQL Database **TodoItem**. 

7. Replace the **InsertTodoItem** method with the following code:

       XXXX Add the insert code here XXXX

  This code inserts a new item into the table.

8. Replace the **RefreshTodoItems** method with the following code:

        XXXXX add the refresh (query) code here XXXXX      

   This sets the binding to the collection of items in the todoTable, which contains all completed items returned from the mobile service. 

9. Replace the **UpdateCheckedTodoItem** method with the following code:
        
        XXXXX add the update (query) code here XXXXX 

   This sends an item update to the mobile service.

Now that the app has been updated to use Mobile Services for backend storage, it's time to test the app against Mobile Services.

<h2><a name="test-app"></a><span class="short-header">Test the app</span>Test the app against your new mobile service</h2>

1. Navigate to the index.html page to start the app.

2. As before, type text in **Insert a TodoItem**, and then click **Save**. _XXXXX This might need to change XXXX_

   This sends a new item as an insert to the mobile service.

3. In the [Management Portal], click **Mobile Services**, and then click your mobile service.

4. Click the **Data** tab, then click **Browse**.

   ![][9]
  
   Notice that the **TodoItem** table now contains data, with id values generated by Mobile Services, and that columns have been automatically added to the table to match the TodoItem class in the app.

5. In the app, check one of the items in the list, then go back to the Browse tab in the portal and click **Refresh**. _XXXX This might require posting XXXX_

  Notice that the complete value has changed from **false** to **true**.

6. In the app.js project file, replace the existing **RefreshTodoItems** method with the following code that filters out completed items:

   		//XXXX This is how it looks for the Windows JS client. XXXXX 
        var refreshTodoItems = function () {                     
            // More advanced query that filters out completed items. 
            todoTable.where({ complete: false })
               .read()
               .done(function (results) {
                   todoItems = new WinJS.Binding.List(results);
                   listItems.winControl.itemDataSource = todoItems.dataSource;
               });            
        };

7. Load the index.html page again, check another one of the items in the list and then click the **Refresh** button.

   Notice that the checked item now disappears from the list. Each refresh results in a round-trip to the mobile service, which now returns filtered data.

This concludes the **Get started with data** tutorial.

## <a name="next-steps"> </a>Next steps

This tutorial demonstrated the basics of enabling an HTML app to work with data in Mobile Services. Next, consider completing one of the following tutorials that is based on the GetStartedWithData app that you created in this tutorial:

* [Validate and modify data with scripts]
  <br/>Learn more about using server scripts in Mobile Services to validate and change data sent from your app.

* [Refine queries with paging]
  <br/>Learn how to use paging in queries to control the amount of data handled in a single request.

Once you have completed the data series, learn how to authenticate users of your app try one of these other tutorials by completing [Get started with authentication].

<!-- Anchors. -->

[Get the Windows Store app]: #download-app
[Create the mobile service]: #create-service
[Add a data table for storage]: #add-table
[Update the app to use Mobile Services]: #update-app
[Test the app against Mobile Services]: #test-app
[Next Steps]:#next-steps

<!-- Images. -->
[0]: ../Media/mobile-quickstart-startup-html.png
[1]: ../../Shared/Media/plus-new.png
[2]: ../Media/mobile-create.png
[3]: ../Media/mobile-create-page1.png
[4]: ../Media/mobile-create-page2.png
[5]: ../Media/mobile-data-tab-empty.png
[6]: ../Media/mobile-create-todoitem-table.png
[7]: ../Media/mobile-add-reference-html.png
[8]: ../Media/mobile-dashboard-tab.png
[9]: ../Media/mobile-todoitem-data-browse.png
[10]: ../Media/mobile-data-sample-download-html.png


<!-- URLs. -->
[Validate and modify data with scripts]: ./mobile-services-validate-and-modify-data-html.md
[Refine queries with paging]: ./mobile-services-paging-data-html.md
[Get started with Mobile Services]: ./mobile-services-get-started-html.md
[Get started with authentication]: ./mobile-services-get-started-with-users-html.md
[WindowsAzure.com]: http://www.windowsazure.com/
[Windows Azure Management Portal]: https://manage.windowsazure.com/
[Management Portal]: https://manage.windowsazure.com/
[Mobile Services SDK]: http://go.microsoft.com/fwlink/?LinkId=TBD
[Download the HTML app project]:  http://go.microsoft.com/fwlink/?LinkId=TBD