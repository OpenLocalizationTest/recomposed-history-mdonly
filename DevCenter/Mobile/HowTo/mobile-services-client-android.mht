From: "Saved by Windows Internet Explorer 10"
Subject: mobile-services-client-android
Date: Thu, 11 Apr 2013 15:04:26 -0700
MIME-Version: 1.0
Content-Type: text/html;
	charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Location: file://C:\Users\ricksal.000\AppData\Local\Microsoft\Windows\Temporary Internet Files\Content.Outlook\YQOYI9ZN\mobile-services-client-android-MarkdownPadPreview.html
X-MimeOLE: Produced By Microsoft MimeOLE V6.2.9200.16384

=EF=BB=BF<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" =
"http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" =
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><HTML=20
lang=3D"en" lang=3D"en" xml:lang=3D"en"=20
xmlns=3D"http://www.w3.org/1999/xhtml"><HEAD><META =
content=3D"IE=3D10.000"=20
http-equiv=3D"X-UA-Compatible">
 <TITLE>mobile-services-client-android</TITLE>=20
<META http-equiv=3D"Content-Type" content=3D"text/html; =
charset=3Dutf-8">=20
<STYLE type=3D"text/css">=0A=
/* GitHub stylesheet for MarkdownPad */=0A=
/* Author: Nicolas Hery - http://nicolashery.com */=0A=
/* Version: d5e7ce436666e7d4a2eeb12e7f8261dacceb3565 */=0A=
/* Source: https://github.com/nicolahery/markdownpad-github */=0A=
=0A=
/* RESET=0A=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D*/=0A=
=0A=
html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, =
p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, =
dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, =
var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, =
legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, =
canvas, details, embed, figure, figcaption, footer, header, hgroup, =
menu, nav, output, ruby, section, summary, time, mark, audio, video {=0A=
  margin: 0;=0A=
  padding: 0;=0A=
  border: 0;=0A=
}=0A=
=0A=
/* BODY=0A=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D*/=0A=
=0A=
body {=0A=
  font-family: Helvetica, arial, freesans, clean, sans-serif;=0A=
  font-size: 14px;=0A=
  line-height: 1.6;=0A=
  color: #333;=0A=
  background-color: #fff;=0A=
  padding: 20px;=0A=
  max-width: 960px;=0A=
  margin: 0 auto;=0A=
}=0A=
=0A=
body>*:first-child {=0A=
  margin-top: 0 !important;=0A=
}=0A=
=0A=
body>*:last-child {=0A=
  margin-bottom: 0 !important;=0A=
}=0A=
=0A=
/* BLOCKS=0A=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D*/=0A=
=0A=
p, blockquote, ul, ol, dl, table, pre {=0A=
  margin: 15px 0;=0A=
}=0A=
=0A=
/* HEADERS=0A=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D*/=0A=
=0A=
h1, h2, h3, h4, h5, h6 {=0A=
  margin: 20px 0 10px;=0A=
  padding: 0;=0A=
  font-weight: bold;=0A=
  -webkit-font-smoothing: antialiased;=0A=
}=0A=
=0A=
h1 tt, h1 code, h2 tt, h2 code, h3 tt, h3 code, h4 tt, h4 code, h5 tt, =
h5 code, h6 tt, h6 code {=0A=
  font-size: inherit;=0A=
}=0A=
=0A=
h1 {=0A=
  font-size: 28px;=0A=
  color: #000;=0A=
}=0A=
=0A=
h2 {=0A=
  font-size: 24px;=0A=
  border-bottom: 1px solid #ccc;=0A=
  color: #000;=0A=
}=0A=
=0A=
h3 {=0A=
  font-size: 18px;=0A=
}=0A=
=0A=
h4 {=0A=
  font-size: 16px;=0A=
}=0A=
=0A=
h5 {=0A=
  font-size: 14px;=0A=
}=0A=
=0A=
h6 {=0A=
  color: #777;=0A=
  font-size: 14px;=0A=
}=0A=
=0A=
body>h2:first-child, body>h1:first-child, body>h1:first-child+h2, =
body>h3:first-child, body>h4:first-child, body>h5:first-child, =
body>h6:first-child {=0A=
  margin-top: 0;=0A=
  padding-top: 0;=0A=
}=0A=
=0A=
a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, =
a:first-child h5, a:first-child h6 {=0A=
  margin-top: 0;=0A=
  padding-top: 0;=0A=
}=0A=
=0A=
h1+p, h2+p, h3+p, h4+p, h5+p, h6+p {=0A=
  margin-top: 10px;=0A=
}=0A=
=0A=
/* LINKS=0A=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D*/=0A=
=0A=
a {=0A=
  color: #4183C4;=0A=
  text-decoration: none;=0A=
}=0A=
=0A=
a:hover {=0A=
  text-decoration: underline;=0A=
}=0A=
=0A=
/* LISTS=0A=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D*/=0A=
=0A=
ul, ol {=0A=
  padding-left: 30px;=0A=
}=0A=
=0A=
ul li > :first-child, =0A=
ol li > :first-child, =0A=
ul li ul:first-of-type, =0A=
ol li ol:first-of-type, =0A=
ul li ol:first-of-type, =0A=
ol li ul:first-of-type {=0A=
  margin-top: 0px;=0A=
}=0A=
=0A=
ul ul, ul ol, ol ol, ol ul {=0A=
  margin-bottom: 0;=0A=
}=0A=
=0A=
dl {=0A=
  padding: 0;=0A=
}=0A=
=0A=
dl dt {=0A=
  font-size: 14px;=0A=
  font-weight: bold;=0A=
  font-style: italic;=0A=
  padding: 0;=0A=
  margin: 15px 0 5px;=0A=
}=0A=
=0A=
dl dt:first-child {=0A=
  padding: 0;=0A=
}=0A=
=0A=
dl dt>:first-child {=0A=
  margin-top: 0px;=0A=
}=0A=
=0A=
dl dt>:last-child {=0A=
  margin-bottom: 0px;=0A=
}=0A=
=0A=
dl dd {=0A=
  margin: 0 0 15px;=0A=
  padding: 0 15px;=0A=
}=0A=
=0A=
dl dd>:first-child {=0A=
  margin-top: 0px;=0A=
}=0A=
=0A=
dl dd>:last-child {=0A=
  margin-bottom: 0px;=0A=
}=0A=
=0A=
/* CODE=0A=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D*/=0A=
=0A=
pre, code, tt {=0A=
  font-size: 12px;=0A=
  font-family: Consolas, "Liberation Mono", Courier, monospace;=0A=
}=0A=
=0A=
code, tt {=0A=
  margin: 0 0px;=0A=
  padding: 0px 0px;=0A=
  white-space: nowrap;=0A=
  border: 1px solid #eaeaea;=0A=
  background-color: #f8f8f8;=0A=
  border-radius: 3px;=0A=
}=0A=
=0A=
pre>code {=0A=
  margin: 0;=0A=
  padding: 0;=0A=
  white-space: pre;=0A=
  border: none;=0A=
  background: transparent;=0A=
}=0A=
=0A=
pre {=0A=
  background-color: #f8f8f8;=0A=
  border: 1px solid #ccc;=0A=
  font-size: 13px;=0A=
  line-height: 19px;=0A=
  overflow: auto;=0A=
  padding: 6px 10px;=0A=
  border-radius: 3px;=0A=
}=0A=
=0A=
pre code, pre tt {=0A=
  background-color: transparent;=0A=
  border: none;=0A=
}=0A=
=0A=
/* QUOTES=0A=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D*/=0A=
=0A=
blockquote {=0A=
  border-left: 4px solid #DDD;=0A=
  padding: 0 15px;=0A=
  color: #777;=0A=
}=0A=
=0A=
blockquote>:first-child {=0A=
  margin-top: 0px;=0A=
}=0A=
=0A=
blockquote>:last-child {=0A=
  margin-bottom: 0px;=0A=
}=0A=
=0A=
/* HORIZONTAL RULES=0A=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D*/=0A=
=0A=
hr {=0A=
  clear: both;=0A=
  margin: 15px 0;=0A=
  height: 0px;=0A=
  overflow: hidden;=0A=
  border: none;=0A=
  background: transparent;=0A=
  border-bottom: 4px solid #ddd;=0A=
  padding: 0;=0A=
}=0A=
=0A=
/* TABLES=0A=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D*/=0A=
=0A=
table th {=0A=
  font-weight: bold;=0A=
}=0A=
=0A=
table th, table td {=0A=
  border: 1px solid #ccc;=0A=
  padding: 6px 13px;=0A=
}=0A=
=0A=
table tr {=0A=
  border-top: 1px solid #ccc;=0A=
  background-color: #fff;=0A=
}=0A=
=0A=
table tr:nth-child(2n) {=0A=
  background-color: #f8f8f8;=0A=
}=0A=
=0A=
/* IMAGES=0A=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D*/=0A=
=0A=
.markdown-body img {=0A=
  max-width: 100%=0A=
}=0A=
</STYLE>
=20
<META name=3D"GENERATOR" content=3D"MSHTML 10.00.9200.16540"></HEAD>=20
<BODY>
<P><properties umbraconavihide=3D"0" disquscomments=3D"1" =
metacanonical=3D""=20
metadescription=3D"Learn how to use the Android client library for =
Windows Azure Mobile Services."=20
metakeywords=3D"Windows Azure Mobile Services, Mobile Service Android =
client library, Android client library"=20
pagetitle=3D"How to use the Android client library - Windows Azure =
Mobile Services feature guide"=20
urldisplayname=3D"Android Client Library" =
linkid=3D"mobile-services-how-to-Anroid-client"></properties></P>
<DIV chunk=3D"../chunks/article-left-menu-Android.md">
<H1>How to use the Android client library for Mobile Services</H1>
<DIV class=3D"dev-center-tutorial-selector"><A title=3D".NET Framework" =
href=3D"file:///C:/en-us/develop/mobile/how-to-guides/how-to-dotnet-clien=
t">.NET=20
Framework</A>     <A title=3D"JavaScript" =
href=3D"file:///C:/en-us/develop/mobile/how-to-guides/how-to-js-client">J=
avaScript</A>=20
	<A title=3D"IOS" =
href=3D"file:///C:/en-us/develop/mobile/how-to-guides/how-to-ios-client">=
IOS</A>=20
	<A title=3D"Android" =
href=3D"file:///C:/en-us/develop/mobile/how-to-guides/how-to-android-clie=
nt">Android</A>=20
</DIV>
<P>This guide shows you how to perform common scenarios using the =
Android client=20
for Windows Azure Mobile Services.  The scenarios covered include =
querying for=20
data; inserting, updating, and deleting data, authenticating users, =
handling=20
errors, and uploading BLOB data. If you are new to Mobile Services, you =
should=20
consider first completing the <A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/tutorials/mobile-services-get-st=
arted-XXXXX.md">Mobile=20
Services quickstart</A>. The quickstart tutorial helps you configure =
your=20
account and create your first mobile service.</P>
<P>The samples are written in Java and require the <A =
href=3D"http://go.microsoft.com/fwlink/?LinkId=3D257545">Mobile=20
Services SDK</A>. This tutorial also requires the <A =
href=3D"https://go.microsoft.com/fwLink/?LinkID=3D280125&amp;clcid=3D0x40=
9">[Android=20
SDK]</A>, which includes the Eclipse integrated development environment =
(IDE)=20
and Android Developer Tools (ADT) plugin. The Mobile Services Android =
SDK=20
supports Android version 2.2 or later, but we recommend building against =
Android=20
version 4.2 or later.</P>
<H2>Table of Contents</H2>
<UL>
  <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#what-is">What=20
  is Mobile Services</A></LI>
  <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#concepts">Concepts</A></LI>
  <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#create-client">How=20
  to: Create the Mobile Services client</A></LI>
  <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#instantiating">How=20
  to: Create a table reference</A>=20
  <UL>
    <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#model">The=20
    programming model: typed and untyped</A></LI>
    <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#api">The=20
    API structure</A></LI></UL></LI>
  <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#querying">How=20
  to: Query data from a mobile service</A>=20
  <UL>
    <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#filtering">Filter=20
    returned data</A></LI>
    <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#sorting">Sort=20
    returned data</A></LI>
    <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#paging">Return=20
    data in pages</A></LI>
    <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#selecting">Select=20
    specific columns</A></LI>
    <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#chaining">How=20
    to: Concatenate query methods</A></LI></UL></LI>
  <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#inserting">How=20
  to: Insert data into a mobile service</A></LI>
  <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#updating">How=20
  to: Update data in a mobile service</A></LI>
  <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#deleting">How=20
  to: Delete data in a mobile service</A></LI>
  <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#lookup">How=20
  to: Look up a specific item</A></LI>
  <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#untyped">How=20
  to: Work with untyped data</A></LI>
  <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#binding">How=20
  to: Bind data to the user interface</A>=20
  <UL>
    <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#layout">How=20
    to: Define the layout</A></LI>
    <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#adapter">How=20
    to: Define the adapter</A></LI>
    <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#use-adapter">How=20
    to: Use the adapter</A></LI></UL></LI>
  <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#authentication">How=20
  to: Authenticate users</A>=20
  <UL>
    <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#caching">Cache=20
    authentication tokens</A></LI></UL></LI>
  <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#errors">How=20
  to: Handle errors</A></LI>
  <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#tests">How=20
  to: Design unit tests</A></LI>
  <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#customizing">How=20
  to: Customize the client</A>=20
  <UL>
    <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#headers">Customize=20
    request headers</A></LI>
    <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#serialization">Customize=20
    serialization</A></LI></UL></LI>
  <LI><A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-client-=
android-MarkdownPadPreview.html#next-steps">Next=20
  steps</A></LI></UL>
<DIV chunk=3D"../chunks/mobile-services-concepts.md">
<H2><A name=3D"setup"></A><SPAN class=3D"short-header">Setup</SPAN>Setup =
and=20
Prerequisites</H2>
<P>We assume that you have created a mobile service and a table. For =
more=20
information see <A =
href=3D"http://msdn.microsoft.com/en-us/library/windowsazure/jj193162.asp=
x">Create=20
a table</A>. In the code used in this topic, we assume the table is =
named=20
<EM>ToDoItem</EM>, and that it has the following columns:</P>
<UL>
  <LI>id</LI>
  <LI>text</LI>
  <LI>complete</LI>
  <LI>duration</LI></UL>
<P>The corresponding typed client side object is the following:</P>
<PRE><CODE>public class ToDoItem {=0A=
    private Integer id;=0A=
    private String text;=0A=
    private Boolean complete;=0A=
    private Date due=0A=
    private Integer duration;=0A=
}=0A=
</CODE></PRE>
<P>When dynamic schema is enabled, Windows Azure Mobile Services =
automatically=20
generates new columns based on the object in the insert or update =
request. For=20
more information, see [Dynamic schema]link TBD.</P>
<H2><A name=3D"create-service"></A><SPAN class=3D"short-header">Create =
the Mobile=20
Services Client</SPAN>How to: Create the Mobile Services Client</H2>
<P>The following code creates the mobile service client object that is =
used to=20
access your mobile service. </P>
<PRE><CODE>        mClient =3D new MobileServiceClient(=0A=
                "MobileServiceUrl", // Replace with the above Site URL=0A=
                "AppKey",           // replace with the Application Key =0A=
                this)=0A=
</CODE></PRE>
<P>In the code above, replace <CODE>MobileServiceUrl</CODE> and=20
<CODE>AppKey</CODE> with the URL and application key [TBD: more =
needed??] from=20
your mobile service, in that order.</P>
<H2><A name=3D"instantiating"></A><SPAN class=3D"short-header">Creating =
a table=20
reference</SPAN>How to: Create a table reference</H2>
<P>You query or modify data in the mobile service table by using the <A =
href=3D"http://go.microsoft.com/fwlink/?LinkId=3D290689">MobileServiceTab=
le</A>=20
object, or the <A=20
href=3D"http://go.microsoft.com/fwlink/?LinkId=3D290689">MobileServicesJs=
onTable</A>=20
object. You get a reference to one of these objects by calling the <A =
href=3D"http://go.microsoft.com/fwlink/?LinkId=3D290689">getTable()</A>=20
method on an instance of the Mobile Services client. There are three =
differnt=20
overloads of this method:</P>
<PRE><CODE>public class MobileServiceClient {=0A=
    public &lt;E&gt; MobileServiceTable&lt;E&gt; getTable(String name, =
Class&lt;E&gt; clazz);=0A=
    public &lt;E&gt; MobileServiceTable&lt;E&gt; getTable(Class&lt;E&gt; =
clazz);=0A=
    public MobileServiceJsonTable getTable(String name);=0A=
}=0A=
</CODE></PRE>
<P>The 1st and 2nd overloads are used with the typed programming model. =
You=20
first define a variable to reference the <EM>MobileServiceTable</EM>. We =
use=20
this variable in all subsequent code snippets using the typed model.</P>
<PRE><CODE>private MobileServiceTable&lt;ToDoItem&gt; mToDoTable;=0A=
</CODE></PRE>
<P>The 1st overload is used where the class name and the table name are =
the=20
same.</P>
<PRE><CODE>    mToDoTable =3D mClient.getTable(ToDoItem.class);=0A=
</CODE></PRE>
<P>The 2nd overload can be used where the table name is different from =
the type=20
name.</P>
<PRE><CODE>    mToDoTable =3D mClient.getTable("ToDoItemBackup", =
ToDoItem.class);=0A=
</CODE></PRE>
<P>The 3rd overload is used for working with the untyped JSON-based =
programming=20
models, which we discuss later. The immediately following sections show =
how to=20
use the typed programming model. </P>
<H3><A name=3D"model"></A>The programming model: typed and untyped</H3>
<P>Since Java is a strongly typed language, most app developers will use =
the=20
typed programming model with Mobile Services. This model provides =
seamless=20
serialization and deserialization to JSON using the <A =
href=3D"http://go.microsoft.com/fwlink/?LinkId=3D290801"=20
target=3D"_blank">gson</A> library when sending data between the client =
and the=20
mobile service: the developer doesn't have to do anything, the framework =
handles=20
it all.</P>
<P>The untyped model gives you more exact control over the JSON =
serialization,=20
and there are some scenarios where you may wish to use it, for example, =
if your=20
mobile service table contains a large number of columns and you only =
need to=20
modify a few of them. The typed model in this scenario requires you to =
define=20
all of the columns in your data class. But with the untyped model you =
need only=20
reference the columns you are going to use.</P>
<H3><A name=3D"api"></A>The API structure</H3>
<P>All the method calls invoked on a table object follow the callback =
pattern.=20
One of the parameters to the method is always a callback object. The =
callback=20
object always contains an <EM>onCompleted</EM> method. The =
<EM>onCompleted</EM>=20
method always contains one parameter that is an <EM>Exception</EM> =
object, which=20
you can test to determine success of the method call. A null =
<EM>Exception</EM>=20
object indicates success, otherwise the <EM>Exception</EM> object =
describes the=20
reason for failure.</P>
<P>The exact callback object used depends on which method you called, =
and on=20
whether you are using the typed or untyped programming model. And the =
parameters=20
to the <EM>onCompleted</EM> method vary, depending on which object it is =
part=20
of.</P>
<H2><A name=3D"querying"></A><SPAN class=3D"short-header">Querying =
data</SPAN>How=20
to: Query data from a mobile service</H2>
<P>This section describes how to issue queries to the mobile service.=20
Subsections describe diffent aspects such as sorting filtering, paging, =
and=20
inserts updates and deletes. Finally, we discuss how you can chain these =

operations together.</P>
<P>The following code returns all items in the <EM>ToDoItem</EM> table. =
</P>
<PRE><CODE>    mToDoTable.execute(new =
TableQueryCallback&lt;ToDoItem&gt;() {=0A=
            public void onCompleted(List&lt;ToDoItem&gt; result, int =
count, Exception exception, ServiceFilterResponse response) {=0A=
                if (exception =3D=3D null) {=0A=
                    for (ToDoItem item : result) {=0A=
                        Log.i(TAG, "Read object with ID " + item.id);  =0A=
                    }=0A=
                }=0A=
            }=0A=
        });=0A=
</CODE></PRE>
<P>For queries, the callback object is a=20
<EM>TableQueryCallback&lt;E&gt;</EM>.</P>
<P>The <EM>result</EM> parameter returns the result set from the query, =
and the=20
code inside the success branch of the <EM>exception</EM> test shows how =
to parse=20
the individual rows.</P>
<H3><A name=3D"filtering"></A>How to: Filter returned data</H3>
<P>The following code returns all items from the <EM>ToDoItem</EM> table =
whose=20
<EM>complete</EM> field is equal to <EM>false</EM>. <EM>mToDoTable</EM> =
is the=20
reference to the mobile service table that we created previously. </P>
<PRE><CODE>    =
mToDoTable.where().field("complete").eq(false).execute(new =
TableQueryCallback&lt;ToDoItem&gt;() {=0A=
        public void onCompleted(List&lt;ToDoItem&gt; result, int count, =
Exception exception, ServiceFilterResponse response) {=0A=
            if (exception =3D=3D null) {=0A=
                for (ToDoItem item : result) {=0A=
                    Log.i(TAG, "Read object with ID " + item.id);  =0A=
                }=0A=
            } =0A=
        }=0A=
    });=0A=
</CODE></PRE>
<P>You start a filter with a <STRONG><EM>where</EM></STRONG> method call =
on the=20
table reference. This is followed by a <STRONG><EM>field</EM></STRONG> =
method=20
call followed by a method call that specifies the logical predicate. =
Possible=20
predicate methods include <STRONG><EM>eq</EM></STRONG>,=20
<STRONG><EM>ne</EM></STRONG>, <STRONG><EM>gt</EM></STRONG>,=20
<STRONG><EM>ge</EM></STRONG>, <STRONG><EM>lt</EM></STRONG>,=20
<STRONG><EM>le</EM></STRONG> etc.</P>
<P>This is sufficient for comparing number and string fields to specific =
values.=20
But you can do a lot more.</P>
<P>For example, you can filter on dates. You can compare the entire date =
field,=20
but you can also compare parts of the date, with methods such as=20
<STRONG><EM>year</EM></STRONG>, <STRONG><EM>month</EM></STRONG>,=20
<STRONG><EM>day</EM></STRONG>, <STRONG><EM>hour</EM></STRONG>,=20
<STRONG><EM>minute</EM></STRONG> and <STRONG><EM>second</EM></STRONG>. =
The=20
following partial code adds a filter for items whose due date is this =
year.</P>
<PRE><CODE>    mToDoTable.where().year(field("due")).eq(2013)=0A=
</CODE></PRE>
<P>You can do a wide variety of complex filters on string fields with =
methods=20
like <STRONG><EM>startsWith</EM></STRONG>, =
<STRONG><EM>endsWith</EM></STRONG>,=20
<STRONG><EM>concat</EM></STRONG>, <STRONG><EM>subString</EM></STRONG>,=20
<STRONG><EM>indexOf</EM></STRONG>, <STRONG><EM>replace</EM></STRONG>,=20
<STRONG><EM>toLower</EM></STRONG>, <STRONG><EM>toUpper</EM></STRONG>,=20
<STRONG><EM>trim</EM></STRONG>, and <STRONG><EM>length</EM></STRONG>. =
The=20
following partial code filters for table rows where the <EM>text</EM> =
column=20
starts with "PRI0".</P>
<PRE><CODE>    mToDoTable.where().startsWith("text", "PRI0")=0A=
</CODE></PRE>
<P>Number fields also allow a wide variety of more complex filters with =
methods=20
like <STRONG><EM>add</EM></STRONG>, <STRONG><EM>sub</EM></STRONG>,=20
<STRONG><EM>mul</EM></STRONG>, <STRONG><EM>div</EM></STRONG>,=20
<STRONG><EM>mod</EM></STRONG>, <STRONG><EM>floor</EM></STRONG>,=20
<STRONG><EM>ceiling</EM></STRONG>, and <STRONG><EM>round</EM></STRONG>. =
The=20
following partial code filters for table rows where the =
<EM>duration</EM> is an=20
even number.</P>
<PRE><CODE>    mToDoTable.where().field("duration").mod(0).eq(0)=0A=
</CODE></PRE>
<P>You can combine predicates with methods like =
<STRONG><EM>and</EM></STRONG>,=20
<STRONG><EM>or</EM></STRONG> and <STRONG><EM>not</EM></STRONG>. This =
partial=20
code combines two of the above examples.</P>
<PRE><CODE>    =
mToDoTable.where().year(field("due")).eq(2013).and().startsWith("text", =
"PRI0")=0A=
</CODE></PRE>
<P>And you can group and nest logical operators, as shown in this =
partial=20
code:</P>
<PRE><CODE>    mToDoTable.where()=0A=
                .year(field("due")).eq(2013)=0A=
                    .and=0A=
                (.startsWith("text", =
"PRI0").or().field("duration").gt(10))=0A=
</CODE></PRE>
<P>For more detailed discussion and examples of filtering, see <A =
title=3D"The Mobile Services Android client query model"=20
href=3D"http://hashtagfail.com/post/46493261719/mobile-services-android-q=
uerying">http://hashtagfail.com/post/46493261719/mobile-services-android-=
querying</A>.</P>
<H3><A name=3D"sorting"></A>How to: Sort returned data</H3>
<P>The following code returns all items from a table of =
<EM>ToDoItems</EM>=20
sorted ascending by the <EM>text</EM> field. <EM>mToDoTable</EM> is the=20
reference to the mobile mervice table that you created previously.</P>
<PRE><CODE>    mToDoTable.orderBy("text", order.Ascending)=0A=
        .execute(new TableQueryCallback&lt;ToDoItem&gt;() { =0A=
            /* same implementation as above */ =0A=
        }); =0A=
</CODE></PRE>
<P>The first parameter of the <STRONG><EM>orderBy</EM></STRONG> function =
is a=20
string equal to the name of the field on which to sort.</P>
<P>The second parameter uses the <STRONG><EM>order</EM></STRONG> =
enumeration to=20
specify whether to sort ascending or descending.</P>
<P>Note that if you are filtering using the =
<STRONG><EM>where</EM></STRONG>=20
function, the <STRONG><EM>where</EM></STRONG> function must be invoked =
prior to=20
the <STRONG><EM>orderBy</EM></STRONG> function.</P>
<H3><A name=3D"paging"></A>How to: Return data in pages</H3>
<P>The first example shows how to select the top 5 items from a table. =
The query=20
returns the items from a table of  <EM>ToDoItems</EM>. =
<EM>mToDoTable</EM> is=20
the reference to the mobile service table that you created =
previously.</P>
<PRE><CODE>    mToDoTable.top(5)=0A=
            .execute(new TableQueryCallback&lt;ToDoItem&gt;() {   =0A=
            public void onCompleted(List&lt;ToDoItem&gt; result, =0A=
                                    int count,=0A=
                                    Exception exception, =0A=
                                    ServiceFilterResponse response) {=0A=
                if (exception =3D=3D null) {=0A=
                    for (ToDoItem item : result) {=0A=
                        Log.i(TAG, "Read object with ID " + item.id);  =0A=
                    }=0A=
                } =0A=
            }=0A=
        });=0A=
</CODE></PRE>
<P>Next, we define a query that skips the first 5 items, and then =
returns the=20
next 5.</P>
<PRE><CODE>    mToDoTable.skip(5).top(5)=0A=
            .execute(new TableQueryCallback&lt;ToDoItem&gt;() {   =0A=
            public void onCompleted(List&lt;ToDoItem&gt; result, =0A=
                                    int count,=0A=
                                    Exception exception, =0A=
                                    ServiceFilterResponse response) {=0A=
                if (exception =3D=3D null) {=0A=
                    for (ToDoItem item : result) {=0A=
                        Log.i(TAG, "Read object with ID " + item.id);  =0A=
                    }=0A=
                } =0A=
            }=0A=
        });=0A=
</CODE></PRE>
<H3><A name=3D"selecting"></A>How to: Select specific columns</H3>
<P>The following code illustrates how to return all items from a table =
of =20
<EM>ToDoItems</EM>, but only displays the <EM>complete</EM> and =
<EM>text</EM>=20
fields. <EM>mToDoTable</EM> is the reference to the mobile service table =
that we=20
created previously.</P>
<PRE><CODE>    mToDoTable.select("complete", "text")=0A=
            .execute(new TableQueryCallback&lt;ToDoItem&gt;() { =0A=
                /* same implementation as above */ =0A=
        }); =0A=
</CODE></PRE>
<P>Here the parameters to the select function are the string names of =
the=20
table's columns that you want to return.</P>
<P>The <A=20
href=3D"http://go.microsoft.com/fwlink/?LinkId=3D290689"><STRONG>select</=
STRONG></A>=20
{TBD: fwlink with Glenn's url] function needs to follow functions like=20
<STRONG><EM>where</EM></STRONG> and <STRONG><EM>orderBy</EM></STRONG>, =
if they=20
are present. It can be followed by functions like=20
<STRONG><EM>top</EM></STRONG>.</P>
<H3><A name=3D"chaining"></A>How to: Concatenate query methods</H3>
<P>The methods used in querying mobile mervice tables can be =
concatenated. This=20
allows you to do things like select specific columns of filtered rows =
that are=20
sorted and paged. You can create quite complex logical filters.</P>
<P>What makes this work is that the query methods you use return=20
<EM>MobileServiceQuery&lt;T&gt;</EM> objects, which can in turn have =
additional=20
methods invoked on them. To end the series of methods and actually run =
the=20
query, you call the <EM>execute</EM> method.</P>
<P>Here's a code sample where mToDoTable is a reference to the mobile =
services=20
ToDoItem table.</P>
<PRE><CODE>    mToDoTable.where().year(field("due")).eq(2013)=0A=
                    .and(.startsWith("text", =
"PRI0").or().field("duration").gt(10))=0A=
                .select("id", "complete", "text", "duration")=0A=
                .orderBy(duration, order.Ascending).top(20)             =0A=
                .execute(new TableQueryCallback&lt;ToDoItem&gt;() { =0A=
                    /* code to execute */ =0A=
            });=0A=
</CODE></PRE>
<P>The main requirement in chaining methods together is that the =
<EM>where</EM>=20
method and predicates need to come first. After that, you can call =
subsequent=20
methods in the order that best meets the needs of your application.</P>
<H2><A name=3D"inserting"></A><SPAN class=3D"short-header">Inserting =
data</SPAN>How=20
to: Insert data into a mobile service</H2>
<P>The following code shows how to insert new rows into a table.</P>
<P>First you instantiate an instance of the ToDoItem class and set its=20
properties.</P>
<PRE><CODE>    ToDoItem mToDoItem =3D new ToDoItem();=0A=
    mToDoItem.text =3D "Test Program";=0A=
    mToDoItem.complete =3D false;=0A=
    mToDoItem.channel =3D "a32b87m90"; /* TBD duration float format */=0A=
</CODE></PRE>
<P>Next you call the <EM>insert</EM> method.</P>
<PRE><CODE>    mToDoTable.insert(mToDoItem, new =
TableOperationCallback&lt;ToDoItem&gt;() {=0A=
        public void onCompleted(ToDoItem entity, Exception exception, =
ServiceFilterResponse response) { =0A=
            if (exception =3D=3D null) {=0A=
                    Log.i(TAG, "Read object with ID " + entity.id);  =0A=
            } =0A=
        }=0A=
    });=0A=
</CODE></PRE>
<P>For the <EM>insert</EM> method, the callback object is a=20
<EM>TableOperationCallback&lt;ToDoItem&gt;</EM> object.</P>
<P>The entity parameter of the <EM>onCompleted</EM> method contains the =
newly=20
inserted object. The successful code shows how to access the <EM>id</EM> =
of the=20
inserted row.</P>
<H2><A name=3D"updating"></A><SPAN class=3D"short-header">Updating =
data</SPAN>How=20
to: Update data in a mobile service</H2>
<P>The following code shows how to update data in a table. In this =
example,=20
<EM>mToDoItem</EM> is a reference to an item in the <EM>ToDoItem</EM> =
table.</P>
<PRE><CODE>    mToDoTable.update(item, new =
TableOperationCallback&lt;ToDoItem&gt;() {=0A=
        public void onCompleted(ToDoItem entity, Exception exception, =
ServiceFilterResponse response) {=0A=
            if (exception =3D=3D null) {=0A=
                    Log.i(TAG, "Read object with ID " + entity.id);  =0A=
            } =0A=
        }=0A=
    });=0A=
</CODE></PRE>
<P>Note that the callback object and <EM>onCompleted</EM> method's =
parameters=20
are the same as when we do an insert.</P>
<H2><A name=3D"deleting"></A><SPAN class=3D"short-header">Deleting =
data</SPAN>How=20
to: Delete data in a mobile service</H2>
<P>The following code shows how to delete data from a table. It deletes =
an=20
existing item from the ToDoItem table, using a reference to the item, in =
this=20
case mToDoItem.</P>
<PRE><CODE>    mToDoTable.delete(mToDoItem, new TableDeleteCallback() {=0A=
        public void onCompleted(Exception exception, =0A=
                ServiceFilterResponse response) {=0A=
            if(exception =3D=3D null){=0A=
                Log.i(TAG, "Object deleted");=0A=
            }=0A=
        }=0A=
    });=0A=
</CODE></PRE>
<P>Note that in the <EM>delete</EM> case, the callback object is a=20
<EM>TableDeleteCallback</EM> and the <EM>onCompleted</EM> method is =
somewhat=20
different in that no table row is returned.</P>
<P>The following code illustrates another way to do this. It deletes an =
existing=20
item in the ToDoItem table by specifying the value of the id field of =
the row to=20
delete (assumed to equal "5"). </P>
<PRE><CODE>    mToDoTable.delete(5, new TableDeleteCallback() {=0A=
        public void onCompleted(Exception exception, =0A=
                ServiceFilterResponse response) {=0A=
            if(exception =3D=3D null){=0A=
                Log.i(TAG, "Object deleted");=0A=
            }=0A=
        }=0A=
    });=0A=
</CODE></PRE>
<H2><A name=3D"lookup"></A><SPAN class=3D"short-header">Looking up =
data</SPAN>How=20
to: Look up a specific item</H2>
<P>Sometimes you want to look up a specific item by its <EM>Id</EM>, =
unlike=20
querying where you typically get a collection of items that satisfy some =

criteria. The following code shows how to do this, for id =3D 23.</P>
<PRE><CODE>    mToDoTable.lookUp(23, new =
TableOperationCallback&lt;ToDoItem&gt;() {=0A=
        public void onCompleted(item entity, Exception exception,=0A=
                ServiceFilterResponse response) {=0A=
            if(exception =3D=3D null){=0A=
                Log.i(TAG, "Read object with ID " + entity.id);    =0A=
            }=0A=
        }=0A=
    });=0A=
</CODE></PRE>
<H2><A name=3D"untyped"></A><SPAN class=3D"short-header">Working with =
untyped=20
data</SPAN>How to: Work with untyped data</H2>
<P>TBD: Should we move stuff from above in here??</P>
<P>Most of the API calls are similar to the calls used with the typed=20
programming model. The main change is that the untyped model uses the=20
<EM>MobileServiceJsonTable</EM> object to invoke methods on, instead of =
the=20
<EM>MobileServiceTable</EM> object used with the typed programming =
model. Usage=20
of the callback object and the onCompleted method is very similar to the =
typed=20
programming model.</P>
<H3><A name=3D"json_instance"></A>How to: Create an instance of an =
untyped=20
table</H3>
<P>Once you have created an instance of the Mobile Services client (here =

represented by the <EM>mClient</EM> variable), you then create an =
instance of a=20
<EM>MobileServiceJsonTable</EM>, with the following code.</P>
<PRE><CODE>    private MobileServiceJsonTable mTable;=0A=
    mTable =3D mClient.getTable("ToDoItem");=0A=
</CODE></PRE>
<P>You now have a reference to the <EM>ToDoItem</EM> table, and all your =
data=20
operations will be method calls on this reference.</P>
<P>Once you have created an instance of the =
<EM>MobileServiceJsonTable</EM>, you=20
can call almost all of the methods on it that you can with the typed =
programming=20
model. However in some cases the methods take an untyped parameter, as =
we see in=20
the following examples.</P>
<H3><A name=3D"json_insert"></A>How to: Insert into an untyped =
table</H3>
<P>The following code shows how to do an insert.</P>
<PRE><CODE>    JsonObject task =3D new JsonObject();=0A=
    task.addProperty("text", "Wake up");=0A=
    task.addProperty("complete", false);=0A=
    task.addProperty("channel", "a27b21m9");=0A=
    task.addProperty("duration", 5);=0A=
=0A=
    mTable.insert(task, new TableJsonOperationCallback() {=0A=
        public void onCompleted(JsonObject jsonObject, Exception =
exception,=0A=
                ServiceFilterResponse response) {=0A=
            if(exception =3D=3D null){=0A=
                Log.i(TAG, "Object inserted with ID " + =0A=
            jsonObject.getAsJsonPrimitive("id").getAsInt());=0A=
            }=0A=
        }=0A=
    });=0A=
</CODE></PRE>
<P>Note the first step is to create a JsonObject, which is part of the =
<A href=3D"http://go.microsoft.com/fwlink/?LinkId=3D290801"=20
target=3D"_blank">gson</A> library.</P>
<P>The callback function passed to the <EM>insert</EM> method is an =
instance of=20
the <EM>TableJsonOperationCallback</EM> class. Note how the first =
parameter of=20
the <EM>onCompleted</EM> method is a JsonObject, and note how we get the =
ID of=20
the inserted object with this method call:</P>
<PRE><CODE>            jsonObject.getAsJsonPrimitive("id").getAsInt());=0A=
</CODE></PRE>
<H3><A name=3D"json_delete"></A>How to: Delete from an untyped =
table</H3>
<P>The following code shows how to delete an instance.</P>
<PRE><CODE>    mTable.delete(task, new TableDeleteCallback() {=0A=
        public void onCompleted(Exception exception, =
ServiceFilterResponse response) {=0A=
            if(exception =3D=3D null){=0A=
                Log.i(TAG, "Object deleted");=0A=
            }=0A=
        }=0A=
    });=0A=
</CODE></PRE>
<P>You can also delete the instance by using its ID: </P>
<PRE><CODE>    mTable.delete(task.getAsJsonPrimitive("id").getAsInt(), =
...)=0A=
</CODE></PRE>
<P>Note the callback method is <EM>TableDeleteCallback()</EM> and the=20
<EM>onComplete</EM> method has a different signature.</P>
<H3><A name=3D"json_get"></A>How to: Return all rows from an untyped =
table</H3>
<P>The following code shows how to retrieve an entire table.</P>
<PRE><CODE>    mTable.execute(new TableJsonQueryCallback() {=0A=
        public void onCompleted(JsonElement result, int count, Exception =
exception,=0A=
                ServiceFilterResponse response) {=0A=
            if(exception =3D=3D null){=0A=
                JsonArray results =3D result.getAsJsonArray();=0A=
                for(JsonElement item : results){=0A=
                    Log.i(TAG, "Read object with ID " + =0A=
                =
item.getAsJsonObject().getAsJsonPrimitive("id").getAsInt());=0A=
                }=0A=
            }=0A=
        }=0A=
    });=0A=
</CODE></PRE>
<P>Note the different callback method used with the <EM>execute</EM> =
method:=20
<EM>TableJsonQueryCallback</EM></P>
<H2><A name=3D"binding"></A><SPAN class=3D"short-header">Binding =
data</SPAN>How to:=20
Bind data to the user interface</H2>
<P>Data binding involves three components:</P>
<UL>
  <LI>the data source</LI>
  <LI>the screen layout</LI>
  <LI>and the adapter that ties the two together.</LI></UL>
<P>In our sample code, we return the data from the mobile service table=20
<EM>ToDoItem</EM> into an array. This is one very common pattern for =
data=20
applications: database queries typically return a collection of rows =
which the=20
client gets in a list or array. In this sample the array is the data =
source.=20
</P>
<P>The code specifies a screen layout that defines the view of the data =
that=20
will appear on the device. </P>
<P>And the two are bound together with an adapter, which in this code is =
an=20
extension of the <EM>ArrayAdapter&lt;ToDoItem&gt;</EM> class.</P>
<H3><A name=3D"layout"></A>How to: Define the Layout</H3>
<P>The layout is defined by several snippets of XML code. The following =
code is=20
contained in the file that  describes the page overall, and this code =
specifies=20
the ListView that will display the data.</P>
<PRE><CODE>    &lt;ListView=0A=
        android:id=3D"@+id/listViewToDo"=0A=
        android:layout_width=3D"match_parent"=0A=
        android:layout_height=3D"wrap_content"=0A=
        tools:listitem=3D"@layout/row_list_to_do" =0A=
        android:padding=3D"6dip" &gt;=0A=
    &lt;/ListView&gt;=0A=
</CODE></PRE>
<P>In the above code the <EM>listitem</EM> attribute specifies the id of =
the=20
layout for an individual row in the list. Here is that code, which =
specifies a=20
check boxe and its associated text. This gets instantiated once for each =
item in=20
the list. A more complex layout would specify additional fields in the=20
display.</P>
<PRE><CODE>    &lt;?xml version=3D"1.0" encoding=3D"utf-8"?&gt;=0A=
    &lt;LinearLayout =
xmlns:android=3D"http://schemas.android.com/apk/res/android"=0A=
        android:layout_width=3D"match_parent"=0A=
        android:layout_height=3D"match_parent"=0A=
        android:orientation=3D"horizontal"&gt;           =0A=
        &lt;CheckBox=0A=
            android:id=3D"@+id/checkToDoItem"=0A=
            android:layout_width=3D"wrap_content"=0A=
            android:layout_height=3D"wrap_content"=0A=
            android:text=3D"@string/checkbox_text" /&gt;=0A=
    &lt;/LinearLayout&gt;=0A=
</CODE></PRE>
<P>We associate the top level layout with the Activity via the=20
<EM>setContentView</EM> method in the <EM>onCreate</EM> method of the=20
<EM>Activity</EM> class.</P>
<PRE><CODE>    public void onCreate(Bundle savedInstanceState) {=0A=
        super.onCreate(savedInstanceState);=0A=
        setContentView(R.layout.activity_to_do);=0A=
</CODE></PRE>
<H3><A name=3D"adapter"></A>How to: Define the adapter</H3>
<P>Since the data source for our view is an array, we subclass our =
adapter from=20
the <EM>AdapterView</EM> class. This subclass will use an =
<EM>Adapter</EM>=20
object to actually retrieve the data from the database query, and =
converts each=20
item retrieved into a view that is added to the <EM>AdapterView</EM> =
layout.</P>
<P>In our code we define the following class which is an extension of =
the=20
<EM>ArrayAdapter&lt;E&gt;</EM> class:</P>
<PRE><CODE>    public class ToDoItemAdapter extends =
ArrayAdapter&lt;ToDoItem&gt; {=0A=
</CODE></PRE>
<P>You must override the adapter's <EM>getView</EM> method. This sample =
code is=20
one example of how to do this: details will vary with your =
application.</P>
<PRE><CODE>public View getView(int position, View convertView, ViewGroup =
parent) {=0A=
    View row =3D convertView;=0A=
=0A=
    final ToDoItem currentItem =3D getItem(position);=0A=
=0A=
    if (row =3D=3D null) {=0A=
        LayoutInflater inflater =3D ((Activity) =
mContext).getLayoutInflater();=0A=
        row =3D inflater.inflate(mLayoutResourceId, parent, false);=0A=
    }=0A=
=0A=
    row.setTag(currentItem);=0A=
=0A=
    /* This code is specific to this particular example */=0A=
    final CheckBox checkBox =3D (CheckBox) =
row.findViewById(R.id.checkToDoItem);=0A=
    checkBox.setText(currentItem.getText());=0A=
    checkBox.setChecked(false);=0A=
    checkBox.setEnabled(true);=0A=
=0A=
    checkBox.setOnClickListener(new View.OnClickListener() {=0A=
=0A=
        @Override=0A=
        public void onClick(View arg0) {=0A=
            if (checkBox.isChecked()) {=0A=
                checkBox.setEnabled(false);=0A=
                if (mContext instanceof ToDoActivity) {=0A=
                    ToDoActivity activity =3D (ToDoActivity) mContext;=0A=
                    activity.checkItem(currentItem);=0A=
                }=0A=
            }=0A=
        }=0A=
    });=0A=
=0A=
    return row;=0A=
}=0A=
</CODE></PRE>
<P>We create an instance of this class in our Activity as follows:</P>
<PRE><CODE>    private ToDoItemAdapter mAdapter;=0A=
    mAdapter =3D new ToDoItemAdapter(this, R.layout.row_list_to_do);=0A=
</CODE></PRE>
<P>Note that the second parameter to the ToDoItemAdapter constructor is =
a=20
reference to the layout. The call to the constructor is followed by the=20
following code which first gets a reference to the =
<STRONG>ListView</STRONG>,=20
and next calls <EM>setAdapter</EM> to configure itself to use the =
adapter we=20
just created:</P>
<PRE><CODE>    ListView listViewToDo =3D (ListView) =
findViewById(R.id.listViewToDo);=0A=
    listViewToDo.setAdapter(mAdapter);=0A=
</CODE></PRE>
<H3><A name=3D"use-adapter"></A>How to: Use the adapter</H3>
<P>You are now ready to use data binding. The following code shows how =
to get=20
the items in the mobile service table, clear the apapter, and then call =
the=20
adapter's <EM>add</EM> method to fill it with the returned items.</P>
<PRE><CODE>    mToDoTable.execute(new =
TableQueryCallback&lt;ToDoItem&gt;() {=0A=
        public void onCompleted(List&lt;ToDoItem&gt; result, int count, =
Exception exception, ServiceFilterResponse response) {=0A=
            if (exception =3D=3D null) {=0A=
                mAdapter.clear();=0A=
                for (ToDoItem item : result) {=0A=
                    mAdapter.add(item);=0A=
                }=0A=
            } =0A=
        }=0A=
    });=0A=
</CODE></PRE>
<P>You must also call the adapter any time you modify the =
<EM>ToDoItem</EM>=20
table if you want to display the results of doing that. Since =
modifications are=20
done on a record by record basis, you will be dealing with a single row =
instead=20
of a collection. When you insert an item you call the <EM>add</EM> =
method on the=20
adapter, when deleting, you call the <EM>remove</EM> method.</P>
<H2><A name=3D"authentication"></A><SPAN=20
class=3D"short-header">Authentication</SPAN>How to: Authenticate =
users</H2>
<P>Three steps are required to enable authentication in your app:</P>
<OL>
  <LI>Register your app for authentication with a provider, and =
configure Mobile=20
  Services</LI>
  <LI>Restrict table permissions to authenticated users only</LI>
  <LI>Add authentication code to your app</LI></OL>
<P>Mobile Services supports the following existing identity providers =
that you=20
can use to authenticate users:</P>
<UL>
  <LI>Facebook</LI>
  <LI>Google </LI>
  <LI>Microsoft Account</LI>
  <LI>Twitter</LI></UL>
<P>You can set permissions on tables to restrict access for specific =
operations=20
to only authenticated users. You can also use the ID of an authenticated =
user to=20
modify requests. </P>
<P>These first two tasks are done using the [Windows Azure Management =
Portal]=20
(link TBD). For more information, see <A =
href=3D"file:///C:/Users/ricksal.000/AppData/Local/Microsoft/Windows/Temp=
orary%20Internet%20Files/Content.Outlook/YQOYI9ZN/mobile-services-get-sta=
rted-with-users-XXXXX.md">Get=20
started with authentication</A>.</P>
<H3><A name=3D"caching"></A>How to: Add authentication code to your =
app</H3>
<OL>
  <LI>
  <P>Add the following import statements to your app's activity =
file.</P>
<PRE><CODE>import =
com.microsoft.windowsazure.mobileservices.MobileServiceUser;=0A=
import =
com.microsoft.windowsazure.mobileservices.MobileServiceAuthenticationProv=
ider;=0A=
import =
com.microsoft.windowsazure.mobileservices.UserAuthenticationCallback;=0A=
</CODE></PRE></LI>
  <LI>
  <P>In the <STRONG>onCreate</STRONG> method of the activity class, add =
the=20
  following line of code after the code that instantiates the=20
  <CODE>MobileServiceClient</CODE> object: </P>
<PRE><CODE>    // Login using the Google provider.=0A=
    mClient.login(MobileServiceAuthenticationProvider.Google,=0A=
            new UserAuthenticationCallback() {=0A=
=0A=
                @Override=0A=
                public void onCompleted(MobileServiceUser user,=0A=
                        Exception exception, ServiceFilterResponse =
response) {=0A=
=0A=
                    if (exception =3D=3D null) {=0A=
                        createAndShowDialog(String.format(=0A=
                                        "You are now logged in - %1$2s",=0A=
                                        user.getUserId()), "Success");=0A=
                        /* code to create table reference and refresh ui =
goes here */=0A=
                    } else {=0A=
                        createAndShowDialog("You must log in. Login =
Required", "Error");=0A=
                    }=0A=
                }=0A=
            });=0A=
</CODE></PRE>
  <P>This code authenticates the user using a Google login. A dialog is=20
  displayed which displays the ID of the authenticated user. You cannot =
proceed=20
  without a positive authentication.</P>
  <DIV class=3D"dev-callout"><B>Note</B>=20
  <P>If you are using an identity provider other than Google, change the =
value=20
  passed to the <STRONG>login</STRONG> method above to one of the =
following:=20
  <I>MicrosoftAccount</I>, <I>Facebook</I>, or =
<I>Twitter</I>.</P></DIV></LI>
  <LI>
  <P>When you run the app, sign in with your chosen identity provider.=20
</P></LI></OL>
<H3><A name=3D"caching"></A>How to: Cache authentication tokens</H3>
<P><EM>This section shows how to cache an authentication token. Do this =
to=20
prevent users from having to authenticate again (if app is "hibernated") =
while=20
the token is still vaid. This will include info on expiring tokens, =
check with=20
existing unified content.</EM></P>
<P>This section is "Coming Soon!": check back for code samples.</P>
<P>To do this you must store the User ID and authentication token =
locally on the=20
device. The next time the app starts, you check the cache, and if these =
values=20
are present, you can skip the login procedure and rehydrate the client =
with this=20
data. However this data is sensitive, and it should be stored encrypted =
for=20
safety in case the phone gets stolen.</P>
<P>So what happens if your token expires? In this case, when you try to =
use it=20
to connect, you will get a <EM>401 unauthorized</EM> response. The user =
must=20
then log in to obtain new tokens. You can avoid having to write code to =
handle=20
this in every place in your app that calls Mobile Servides by using =
filers,=20
which allow you to intercept calls to and responses from Mobile =
Services. The=20
filter code will then test the response for a 401, trigger the login =
process if=20
needed, and then resume the request that generated the 401.</P>
<P>"Code coming soon! Check back for updates!"</P>
<H2><A name=3D"errors"></A><SPAN class=3D"short-header">Error =
handling</SPAN>How to:=20
Handle errors</H2>
<P>The code we've seen that accesses the mobile service table has =
involved three=20
different callbacks:</P>
<UL>
  <LI>TableQueryCallback/TableQueryJsonCallback</LI>
  <LI>TableOperationCallback/TableJsonOperationCallback</LI>
  <LI>TableDeleteCallback/TableJsonDeleteCallback</LI></UL>
<P>Each of these has an <EM>OnComplete</EM> method where the second =
parameter is=20
an error. To provide a =E2=80=9Cglobal=E2=80=9D error handler, the user =
can:</P>
<OL>
  <LI>Subclass these callbacks</LI>
  <LI>Implement their own *onCompleted* method that checks if the error=20
  parameter is not null. If it is not null, it does some generic error=20
  handling.</LI>
  <UL>
    <LI>Look at the <B>createAndShowDialog</B> method in the quickstart, =

    something like that</LI>
    <LI>Let=E2=80=99s assume the MobileServiceExeption instance in the =
callback is=20
    called =E2=80=9Ce=E2=80=9D (up to the developer really). The most =
informative error=20
    information will be in the properties <B>e.Response.Content</B>,=20
    <B>Response.StatusDescription</B>, and <B>e.Response.StatusCode</B>. =
You can=20
    see an example <A =
href=3D"https://www.windowsazure.com/en-us/develop/mobile/tutorials/valid=
ate-modify-and-augment-data-dotnet/"=20
    target=3D"_blank">here</A>. </LI></UL>
  <LI>If there is no error, they just pass it to the parent =
<B>onCompleted</B>=20
  via <B>super</B> (?) or whatever the Java equivalent is</LI>
  <LI>Now the developer can use their subclassed callbacks and not worry =
about=20
  checking the exception, because it is handled in one central place =
(#2) for=20
  all instances of the callback. </LI></OL>
<H2><A name=3D"tests"></A><SPAN class=3D"short-header">Designing =
tests</SPAN>How to:=20
Design unit tests</H2>
<P><EM>(Optional) This section shows how to write unit tests when using =
the=20
client library (info from Yavor).</EM></P>
<H2><A name=3D"customizing"></A><SPAN class=3D"short-header">Customizing =
the=20
client</SPAN>How to: Customize the client</H2>
<P><EM>(Optional) This section shows how to send customized client=20
behaviors.</EM></P>
<H3><A name=3D"headers"></A>How to: Customize request headers</H3>
<P><EM>(Optional) This section shows how to send custom request=20
headers.</EM></P>
<P>For more information see, New topic about processing headers in the=20
server-side.</P>
<P>Hook up a ServiceFilter like this:</P>
<P>client =3D client.withFilter(new ServiceFilter() {</P>
<PRE><CODE>@Override=0A=
public void handleRequest(ServiceFilterRequest request, =
NextServiceFilterCallback nextServiceFilterCallback,=0A=
    ServiceFilterResponseCallback responseCallback) {=0A=
=0A=
    // Do stuff to request object=0A=
=0A=
    nextServiceFilterCallback.onNext(request, responseCallback);=0A=
}=0A=
</CODE></PRE>
<P>});</P>
<P>Inside the method show calling request.addHeader.</P>
<H3><A name=3D"serialization"></A>How to: Customize serialization</H3>
<P><EM>(Optional) This section shows how to use attributes to customize =
how data=20
types are serialized.</EM></P>
<P>Mobile Services assumes by default that the table names, column names =
and=20
data types on the server all match exactly what is on the client. But =
there can=20
be any number of reasons why the server and client names might not =
match. One=20
example might be if you have an existing client that you want to change =
so that=20
it uses Windows Azure Mobile Services instead of a compettitor's =
product.</P>
<P>You might want to do the following kinds of customizations:</P>
<UL>
  <LI>The column names used in the mobile service table don't match the =
names=20
  you are using in the client</LI>
  <LI>Use a mobile service table that has a different name than the =
class it=20
  maps to in the client</LI>
  <LI>Turn on automatic property capitalization</LI>
  <LI>Add complex properties to an object</LI></UL>
<H3><A name=3D"columns"></A>How to: Map different client and server =
names</H3>
<P>Suppose that your Java client code uses standard Java-style names for =
the=20
<EM>ToDoItem</EM> object properties, such as the following. </P>
<UL>
  <LI>mId</LI>
  <LI>mText</LI>
  <LI>mComplete</LI>
  <LI>mDuration</LI></UL>
<P>You must serialize the client names into JSON names that match the =
column=20
names of the <EM>ToDoItem</EM> table on the server. The following code, =
which=20
makes use of the <A =
href=3D"http://go.microsoft.com/fwlink/?LinkId=3D290801" =
target=3D"_blank">gson</A>=20
library does this.</P>
<PRE><CODE>@com.google.gson.annotations.SerializedName("text")=0A=
private String mText;=0A=
=0A=
@com.google.gson.annotations.SerializedName("id")=0A=
private int mId;=0A=
=0A=
@com.google.gson.annotations.SerializedName("complete")=0A=
private boolean mComplete;=0A=
=0A=
@com.google.gson.annotations.SerializedName("duration")=0A=
private String mDuration;=0A=
</CODE></PRE>
<H3><A name=3D"table"></A>How to: Map different table names between =
client and=20
mobile services</H3>
<P>Mapping the client table name to a different mobile services table =
name is=20
easy, we just use one of the overrides of the <A =
href=3D"http://go.microsoft.com/fwlink/?LinkId=3D290689"=20
target=3D"_blank">getTable()</A> function, as seen in the following =
code.</P>
<PRE><CODE>    mToDoTable =3D mClient.getTable("ToDoItemBackup", =
ToDoItem.class);=0A=
</CODE></PRE>
<H3><A name=3D"conversions"></A>How to: Automate column name =
mappings</H3>
<P>Mapping column names for a narrow table with only a few columns isn't =
a big=20
deal, as we saw in the prior section. But suppose our table has a lot of =

columns, say 20 or 30. It turns out that we can call the <A =
href=3D"http://go.microsoft.com/fwlink/?LinkId=3D290801"=20
target=3D"_blank">gson</A> API and specify a conversion strategy that =
will apply=20
to every column, and avoid having to annotate every single column =
name.</P>
<P>To do this we use the <A =
href=3D"http://go.microsoft.com/fwlink/?LinkId=3D290801"=20
target=3D"_blank">gson</A> library which the Android client library uses =
behind=20
the scenes to serialize Java objects to JSON data, which is sent to =
Windows=20
Azure Mobile Services. {TBD: this needs to be explained better and =
earlier}</P>
<P>The following code uses the <EM>setFieldNamingStrategy()</EM> method, =
in=20
which we define a <EM>FieldNamingStrategy()</EM> method. This method =
says to=20
delete the initial character (an "m"), and then lower-case the next =
character,=20
for every field name. This code also enables pretty-printing of the =
output=20
JSON.</P>
<PRE><CODE>client.setGsonBuilder(=0A=
    MobileServiceClient=0A=
    .createMobileServiceGsonBuilder()=0A=
    .setFieldNamingStrategy(new FieldNamingStrategy() {=0A=
        public String translateName(Field field) {=0A=
            String name =3D field.getName();=0A=
            return Character.toLowerCase(name.charAt(1))=0A=
                + name.substring(2);=0A=
            }=0A=
        })=0A=
        .setPrettyPrinting());=0A=
</CODE></PRE>
<P>This code must be executed prior to any method calls on the Mobile =
Services=20
client object.</P>
<H3><A name=3D"complex"></A>How to: Store an object or array property =
into a=20
table</H3>
<P>So far all of our serialization examples have involved primitive =
types such=20
as integers and strings which easily serialize into JSON and into the =
mobile=20
services table. Suppose we want to add a complex object to our client =
type,=20
which doesn't automatically serialize to JSON and to the table. For =
example we=20
might want to add an array of strings to the client object. It is now up =
to us=20
to specify how to do the serialization, and how to store the array into =
the=20
mobile services table.</P>
<P>To see an example of how to do this, check out the blog post <A =
href=3D"http://hashtagfail.com/post/44606137082/mobile-services-android-s=
erialization-gson"=20
target=3D"_blank">Customizing serialization using the <A =
href=3D"http://go.microsoft.com/fwlink/?LinkId=3D290801"=20
target=3D"_blank">gson</A> library in the Mobile Services Android =
client.</P>
<P>This general method can be used whenever we have a complex object =
that is not=20
automatically serializable into JSON and the mobile services table.</P>
<H2><A name=3D"next-steps"></A>Next steps</H2>
<P>The Javadocs reference for the Android client API is at <A =
title=3D"here" =
href=3D"http://go.microsoft.com/fwlink/?LinkId=3D290689">http://go.micros=
oft.com/fwlink/?LinkId=3D290689</A></P><!-- Anchors. --> <!-- Images. =
--> <!-- URLs. -->=20
</DIV></DIV></BODY></HTML><!-- This document was created with =
MarkdownPad, the Markdown editor for Windows (http://markdownpad.com) =
-->
