---
title: Custom Live Metrics and Diagnostics in Azure Application Insights | Microsoft Docs
description: Monitor your web app in real time, with custom metrics and diagnose issues with a live feed of failures, traces and events.
services: application-insights
documentationcenter: ''
author: alancameronwills
manager: carmonm

ms.assetid: 1f471176-38f3-40b3-bc6d-3f47d0cbaaa2
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: na
ms.topic: article
ms.date: 05/04/2017
ms.author: sdash

---

# Custom Live Metrics and Events: Monitor & Diagnose with 1 second latency 
Live Metrics Stream shows you your [Application Insights](app-insights-overview.md) metrics and events with a near-real-time latency of one second. This instant monitoring helps to reduce Mean Time To Detect and Diagnose, and help you meet SLAs. You can:
* Monitor custom KPIs live: Experiment with filters, slicing & dicing your existing Application Insights telemetry to get the most relevant KPIs instantly from the portal. No code or config changes, or deployments necessary. Of course, any custom metrics or measurements you may already sending are available as well.
* Live Detect and Diagnose: See request and dependency failures as they happen along with detailed exception traces. Filter out any known issues to focus on real/new ones.
* Live Debugging: Repro an issue and see all related telemetry live, with custom filtering down to a specific session ID (or with any custom attributes) that identifies the repro interaction. Collect information from any/all servers to get a head start into fixing the issue.
* Instantly see how your resource consumption reacts to load: Monitor *any* windows performance counter live, as you run load tests, or monitor production to take action before anything is adversely affected. No config changes, or deployments required.
* Validate a fix being released, ensure updates to your service is going well as it happens. Validate that the failure you fixed no longer happens.
* Easily identify a server that is having issues, and filter all of the KPI/live feed to just that server.

Live Metrics & Events Stream data is free: it doesn't add to your bill. The data persists only for as long as it's on the chart, and is then discarded. The full functionality is available for ASP.NET classic applications, and .NET core applications only have a fixed set of live metrics and sample failures at this time. We will be getting all supported SDKs up to par for the latest live streaming capabilities. 

We collect the live stream from your application instances before any sampling, or any custom TelemetryProcessors are applied. 

![Live Metrics Stream video](./media/app-insights-live-stream/youtube.png) [Live Metrics Stream video](https://www.youtube.com/watch?v=zqfHf1Oi5PY)

Access live metrics & events by clicking on either the option in the left, or the button on the Overview blade:
![In the Overview blade, click Live Stream](./media/app-insights-live-stream/live-stream-2.png)

##Custom Live KPI
You can monitor custom KPI live by applying arbitrary filters on any Application Insights telemetry from the portal. This includes any custom metrics you may be sending directly (by using TrackMetric), or as a measurement property along with the standard telemetry. Click on the filter control that shows when you mouse-over any of the charts. In the example below, the chart is plotting a custom count KPI generated by applying the filters on Request telemetry on the URL and Duration attributes. The Stream Preview section shows a live feed of telemetry that matches the criteria you have specified at any point in time.
![Custom Request KPI](./media/app-insights-live-stream/live-stream-filteredMetric.png)

You could monitor a value different from Count as well. The options will depend on the type of stream, which could be any Application Insights telemetry: requests, dependencies, exceptions, traces, events or metrics.
With the custom metric or dimension option, you can provide the name in the next input box:
![Value Options](./media/app-insights-live-stream/live-stream-valueoptions.png)

Live metrics are aggregated at 2 points: locally on each server, and then across all servers. You can change the default at either by selecting other options in the respective drop-downs.


## Live failures

If any failures or exceptions are logged, Live Stream picks out a sample of them. Click **Pause** to hold a specific sample, and select an event to show its details.

![Sampled live failures](./media/app-insights-live-stream/live-stream-failures.png)


Live Metrics Stream is available with the latest version of [Application Insights SDK for web](https://www.nuget.org/packages/Microsoft.ApplicationInsights.Web/).

## Filter by server instance

If you want to monitor a particular server role instance, you can filter by server.

![Sampled live failures](./media/app-insights-live-stream/live-stream-filter.png)


## Troubleshooting

No data? Live Metrics Stream uses a different IP addresses than other Application Insights telemetry. Make sure [those IP addresses](app-insights-ip-addresses.md) are open in your firewall.



## Next steps
* [Monitoring usage with Application Insights](app-insights-web-track-usage.md)
* [Using Diagnostic Search](app-insights-diagnostic-search.md)

