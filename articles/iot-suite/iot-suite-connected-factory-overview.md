---
title: Get started with preconfigured solutions | Microsoft Docs
services: ''
suite: iot-suite
documentationcenter: ''
author: dominicbetts
manager: timlt
editor: ''

ms.assetid: 6ab38d1a-b564-469e-8a87-e597aa51d0f7
ms.service: iot-suite
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 02/15/2017
ms.author: dobett

---
# Tutorial: Get started with the connected factory preconfigured solution
## Introduction
Azure IoT Suite [preconfigured solutions][lnk-preconfigured-solutions] combine multiple Azure IoT services to deliver end-to-end solutions that implement common IoT business scenarios. The *connected factory* preconfigured solution connects to and monitors your industrial devices. You can use the solution to analyze the stream of data from your devices and to drive operational productivity and profitability.

This tutorial shows you how to provision the connected factory preconfigured solution. It also walks you through the basic features of the preconfigured solution. You can access many of these features from the solution *dashboard* that deploys as part of the preconfigured solution:

![connected factory preconfigured solution dashboard][img-dashboard]

To complete this tutorial, you need an active Azure subscription.

> [!NOTE]
> If you donâ€™t have an account, you can create a free trial account in just a couple of minutes. For details, see [Azure Free Trial][lnk_free_trial].
> 
> 

[!INCLUDE [iot-suite-provision-remote-monitoring](../../includes/iot-suite-provision-remote-monitoring.md)]

## Scenario overview

When you deploy the connected factory preconfigured solution, it is prepopulated with resources that enable you to step through a common industrial scenario. In this scenario, several factories connected to the solution are reporting overall equipment efficiency (OEE) and key performance indicators (KPIs). The following sections show you how to:

* Monitor factory, production lines and station OEE and KPI values
* Analyze the telemetry data generated from these devices using Azure Time Series Insights
* Fix issues by taking actions on alerts generated

A key feature of this scenario is that you can perform all these actions remotely from the solution dashboard. You do not need physical access to the devices.

## View the solution dashboard

The solution dashboard enables you to manage the deployed solution. It is a hierachirical representation of a global factory configuration. For example, you can view OEE and KPIs, publish new nodes for telemetry and action alerts.

1. When the provisioning is complete and the tile for your preconfigured solution indicates **Ready**, choose **Launch** to open your connected factory solution portal in a new tab.

    ![Launch the preconfigured solution][img-launch-solution]

1. By default, the solution portal shows the *dashboard*. You can navigate to other areas of the solution portal using the menu on the left-hand side of the page.

    ![Remote monitoring preconfigured solution dashboard][img-menu]

The dashboard displays the following information:

* A **Factory list** panel that shows the status, location and current production configuration in the solution. When you first run the solution, there are [still being finalized] simulated devices. The production line simulation is comprised of three real OPC UA servers per assembly line with simulated tasks being performed and sharing data. The production line is controlled by a simple Manufacturing Execution System (MES) via OPC UA. The simulated devices are OPC UA servers running in virtual machines each running in their own Docker Container.
* A map that displays the location of each device connected to the solution. The solution uses the Bing Maps API to plot information on the map. The locations on the map can be clicked and will display details of the production lines at that location. See the [FAQ][lnk-faq] to learn how to make the map dynamic. 
* An **Alerts** panel that displays alerts generated by the devices when a telemetry value has exceeded a specific threshold.
* An **Overall Equipment Efficiency** panel that shows the OEE value for the devices. This value is aggregated from the station view to the global factory level. The OEE figure and its constituent elements can be further analyzed.
* **Key Performance Indicators** panel that displays the number of units produced and energy used by the devices. These values are aggregated from a station view to the global factory level.

## View factories

The *Factories* panel shows you the geographical location of all the factories in the solution, their status, and current production configuration. From the locations list, you can navigate to the other levels in the solution hierarchy, the location names in the list are hyperlinks that when clicked display details of the production lines at that location. It is then possible to drill into the production line details and down to the a station level view. You can filter the list of devices in the factory list.

1. The  **Factory panel** shows the factory list for this solution.

   ![View the device list in the solution portal][img-devicelist]

2. The device list initially shows six simulated factories created by the provisioning process. You can add additional simulated and physical devices to the solution.

3. To view the details of the factory, click the location of the factory in the factory list.

   ![View the device details in the solution portal][img-devicedetails]

4. To view the details of the production line, click the production line name in the factory list.

    ![View the device details in the solution portal][img-devicedetails]

5. To view the configuration of the stations on the production line, click the station name in the factory list.

    ![View the device details in the solution portal][img-devicedetails]

6. To view details on specific nodes in the station, click on the name. This will launch the context panel with Azure Time Series Insights visualizations. Click on these graphs to do further analysis in the Azure Time Series Insights explorer environment.

    ![View the device details in the solution portal][img-devicedetails]

## View alerts

The alert history panel at the global level shows you the alerts that are being generated from all of your devices due to them reporting higher than expected telemetry values. This panel displays alerts at each level of the hierarchy from the station level view to the global view. The alerts contain a description of the alert, date, time, location and number of occurences. You can gain deeper insights in to the data that resulted in the alert being created using the Azure Time Series Insights data, which is visualized in the alerts where applicable. You can take actions directly on the alerts such as:

- Close the alert.
- Acknowledge the alert.
- Show sensor data.
- Call a method on the device to reset it.


![TODO Alarm history on the solution dashboard][img-alarms]

> [!NOTE]
> These alerts are generated by rules that are included in the preconfigured solution. These rules generate alerts when the OEE figure, its constituent elements, and the key performance indicator values exceed the thresholds.  

1. The **Alerts panel** shows the alerts generated in this solution.

    ![View the device list in the solution portal][img-devicelist]

2. To view the details of an alert, click on the alert in the alerts panel.

    ![View the device list in the solution portal][img-devicelist]

3. To further analyze the alert data, click on the graph in the alert panel to open the Azure Time Series Insights explorer environment.

4. To address the alert, a number of actions are available in the alert panel. Choose the appropriate option for you and click the execute action command button.

    ![View the device list in the solution portal][img-devicelist]

## View overall equipment efficiency
OEE identifies the percentage of manufacturing time that is productive. This is a standard industry measure and is calculated by multiplying the availability rate, performance rate, and quality rate: OEE = availability x performance x quality.

    ![View the device list in the solution portal][img-devicelist]

1. To view OEE for any level in the hierarchy, navigate to the specific view you require, the OEE for that view is displayed in the panel along with each of the elements that make up the OEE percentage.  

    ![View the device list in the solution portal][img-devicelist]

2. To further analyze the OEE for any level in the hierarchy data click on either the OEE percentage, availability percentage, performance percentage or quality percentage. A context panel will appear with Azure Time Series Insights powered visualizations enabling you view data from the last hour, last 24 hours and last 7 days.

    ![View the device list in the solution portal][img-devicelist]

3. To further analyze the alert data click on the graph in the alert panel,this opens the the Azure Time Series Insights explorer environment.

    ![View the device list in the solution portal][img-devicelist]

## View Key Performance Indicators
The solution provides two key performance indicators, *units per hour* and *energy used in kWh*. 

1. To view units per hour or energy used for any level in the hierarchy, navigate to the specific view you require, the units per hour and energy used are displayed in the panel. 

    ![View the device list in the solution portal][img-devicelist]

2.  To further analyze units per hour or energy used for any level in the hierarchy data, click on either the units produced or energy used gauge in the **Key Performance Indicators** panel. A context panel appears with Azure Time Series Insights powered visualizations enabling you toview data from the last hour, the last 24 hours, and last 7 days.

    ![View the device list in the solution portal][img-devicelist]

## Scenario review

In this scenario, you monitored your factories OEE and KPIs values, in the dashboard. You then used Azure Time Series Insights to provide more information to help drill further into the telemetry data for OEE and KPIs to help with detecting anomalies. You also used the alert panel to view issues with your factories and you used the actions available to you to resolve the alert.


## Other features

The following sections describe some additional features of the connected factory preconfigured solution that are not described as part of the previous scenario.

## Apply filters ##

1. Click on the **chevron** to display a list of available filters in either the factory locations panel or the alerts panel.

2. The filters panel is displayed for you. 

    ![Display the list of filters][img-unhealthy-filter]

3. Choose the filter that you require, it is also possible to type free text into the filter fields if you require.

The filter is then applied for you, the filter state is also shown in the dashboard via a funnel which is displayed in the factories and alerts tables.

5. To clear a filter, cclick on the funnel and click filter in the filter context panel. The text **All** is displayed in the factories and alerts tables.

### Browse an OPC Server

When you deploy the preconfigured solution, you automatically provision XX sample devices that you can see in the device list. These devices are *simulated devices* running in an Azure WebJob. Simulated devices make it easy for you to experiment with the preconfigured solution without the need to deploy real, physical devices. If you do want to connect a real device to the solution, see the [Connect your device to the remote monitoring preconfigured solution][lnk-connect-rm] tutorial. [LINK TO CONNECT YOUR OWN DEVICE]

1. Click on the **factory icon** in the dashboard navigation bar.

    ![Display the list of filters][img-unhealthy-filter] [DASHBOARD HOMEPAGE]

2. Choose one of the servers in from the preconfigured list. These are the list of servers that are deployed for you in the preconfigured solution. 

    ![Display the list of filters][img-unhealthy-filter]

3. Click **Connect**, a security dialog is displayed. For the simulation it is okay to click **Proceed**

    ![Display the list of filters][img-unhealthy-filter]

4. Click on any of the nodes in the server tree to expand it. Nodes that are publishing telemetry will have a tick mark beside them.

    ![Display the list of filters][img-unhealthy-filter]

5. Right clicking on a item will allow you depending on your permissions read or execute a method on the that particular node.

    ![Display the list of filters][img-unhealthy-filter]

## Behind the scenes

When you deploy a preconfigured solution, the deployment process creates multiple resources in the Azure subscription you selected. You can view these resources in the Azure [portal][lnk-portal]. The deployment process creates a **resource group** with a name based on the name you choose for your preconfigured solution:

![Preconfigured solution in the Azure portal][img-portal]

You can view the settings of each resource by selecting it in the list of resources in the resource group.

You can also view the source code for the preconfigured solution. The connected factory preconfigured solution source code is in the [azure-iot-remote-monitoring][lnk-rmgithub] GitHub repository:

* The **DeviceAdministration** folder contains the source code for the dashboard.
* The **Simulator** folder contains the source code for the simulated device.
* The **EventProcessor** folder contains the source code for the back-end process that handles the incoming telemetry.

When you are done, you can delete the preconfigured solution from your Azure subscription on the [azureiotsuite.com][lnk-azureiotsuite] site. This site enables you to easily delete all the resources that were provisioned when you created the preconfigured solution.

> [!NOTE]
> To ensure that you delete everything related to the preconfigured solution, delete it on the [azureiotsuite.com][lnk-azureiotsuite] site and do not delete the resource group in the portal.

## Next Steps

Now that youâ€™ve deployed a working preconfigured solution, you can continue getting started with IoT Suite by reading the following articles:

* [Remote monitoring preconfigured solution walkthrough][lnk-rm-walkthrough]
* [Connect your device to the remote monitoring preconfigured solution][lnk-connect-rm]
* [Permissions on the azureiotsuite.com site][lnk-permissions]

[img-launch-solution]: media/iot-suite-getstarted-preconfigured-solutions/launch.png
[img-dashboard]: media/iot-suite-getstarted-preconfigured-solutions/dashboard.png
[img-menu]: media/iot-suite-getstarted-preconfigured-solutions/menu.png
[img-devicelist]: media/iot-suite-getstarted-preconfigured-solutions/devicelist.png
[img-alarms]: media/iot-suite-getstarted-preconfigured-solutions/alarms.png
[img-devicedetails]: media/iot-suite-getstarted-preconfigured-solutions/devicedetails.png
[img-devicecommands]: media/iot-suite-getstarted-preconfigured-solutions/devicecommands.png
[img-pingcommand]: media/iot-suite-getstarted-preconfigured-solutions/pingcommand.png
[img-adddevice]: media/iot-suite-getstarted-preconfigured-solutions/adddevice.png
[img-addnew]: media/iot-suite-getstarted-preconfigured-solutions/addnew.png
[img-definedevice]: media/iot-suite-getstarted-preconfigured-solutions/definedevice.png
[img-runningnew]: media/iot-suite-getstarted-preconfigured-solutions/runningnew.png
[img-runningnew-2]: media/iot-suite-getstarted-preconfigured-solutions/runningnew2.png
[img-rules]: media/iot-suite-getstarted-preconfigured-solutions/rules.png
[img-adddevicerule]: media/iot-suite-getstarted-preconfigured-solutions/addrule.png
[img-adddevicerule2]: media/iot-suite-getstarted-preconfigured-solutions/addrule2.png
[img-adddevicerule3]: media/iot-suite-getstarted-preconfigured-solutions/addrule3.png
[img-adddevicerule4]: media/iot-suite-getstarted-preconfigured-solutions/addrule4.png
[img-actions]: media/iot-suite-getstarted-preconfigured-solutions/actions.png
[img-portal]: media/iot-suite-getstarted-preconfigured-solutions/portal.png
[img-disable]: media/iot-suite-getstarted-preconfigured-solutions/solutionportal_08.png
[img-columneditor]: media/iot-suite-getstarted-preconfigured-solutions/columneditor.png
[img-startimageedit]: media/iot-suite-getstarted-preconfigured-solutions/imagedit1.png
[img-imageedit]: media/iot-suite-getstarted-preconfigured-solutions/imagedit2.png
[img-editfiltericon]: media/iot-suite-getstarted-preconfigured-solutions/editfiltericon.png
[img-filtereditor]: media/iot-suite-getstarted-preconfigured-solutions/filtereditor.png
[img-filterelist]: media/iot-suite-getstarted-preconfigured-solutions/filteredlist.png
[img-savefilter]: media/iot-suite-getstarted-preconfigured-solutions/savefilter.png
[img-openfilter]:  media/iot-suite-getstarted-preconfigured-solutions/openfilter.png
[img-unhealthy-filter]: media/iot-suite-getstarted-preconfigured-solutions/unhealthyfilter.png
[img-filtered-unhealthy-list]: media/iot-suite-getstarted-preconfigured-solutions/unhealthylist.png
[img-change-interval]: media/iot-suite-getstarted-preconfigured-solutions/changeinterval.png
[img-old-firmware]: media/iot-suite-getstarted-preconfigured-solutions/noticeold.png
[img-old-filter]: media/iot-suite-getstarted-preconfigured-solutions/oldfilter.png
[img-filtered-old-list]: media/iot-suite-getstarted-preconfigured-solutions/oldlist.png
[img-method-update]: media/iot-suite-getstarted-preconfigured-solutions/methodupdate.png
[img-update-1]: media/iot-suite-getstarted-preconfigured-solutions/jobupdate1.png
[img-update-2]: media/iot-suite-getstarted-preconfigured-solutions/jobupdate2.png
[img-update-3]: media/iot-suite-getstarted-preconfigured-solutions/jobupdate3.png
[img-updated]: media/iot-suite-getstarted-preconfigured-solutions/updated.png
[img-healthy]: media/iot-suite-getstarted-preconfigured-solutions/healthy.png

[lnk_free_trial]: http://azure.microsoft.com/pricing/free-trial/
[lnk-preconfigured-solutions]: iot-suite-what-are-preconfigured-solutions.md
[lnk-azureiotsuite]: https://www.azureiotsuite.com
[lnk-logic-apps]: https://azure.microsoft.com/documentation/services/app-service/logic/
[lnk-portal]: http://portal.azure.com/
[lnk-rmgithub]: https://github.com/Azure/azure-iot-remote-monitoring
[lnk-logicapptutorial]: iot-suite-logic-apps-tutorial.md
[lnk-rm-walkthrough]: iot-suite-remote-monitoring-sample-walkthrough.md
[lnk-connect-rm]: iot-suite-connecting-devices.md
[lnk-permissions]: iot-suite-permissions.md
[lnk-c2d-guidance]: ../iot-hub/iot-hub-devguide-c2d-guidance.md
[lnk-faq]: iot-suite-faq.md