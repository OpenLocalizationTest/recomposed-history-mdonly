<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
<properties 
   pageTitle="How to use Log Management" 
   description="With Log Management in Microsoft Azure Operational Insights you can view log events collected from your monitored servers." 
   services="operational-insights" 
   documentationCenter="dev-center-name" 
   authors="leylakazemi" 
   manager="jwhit" 
   editor=""/></p>

<p><tags
   ms.service="operational-insights"
   ms.devlang=""
   ms.topic="article"
   ms.tgt_pltfrm=""
   ms.workload="operational-insights" 
   ms.date="02/20/2015"
   ms.author="leylak"/></p>

<h1>How to use Log Management</h1>

<p>Before you can use Log Management in Microsoft Azure Operational Insights, you must have the intelligence pack installed. To read more about installing intelligence packs, see <a href="https://msdn.microsoft.com/en-us/library/azure/dn873980.aspx">Use the Gallery to add or remove intelligence packs</a>. After it is installed, you can view log events collected from your monitored servers by using the <strong>Log Management</strong> tile on the <strong>Overview</strong> page in Operational Insights. The tile opens the <strong>Log Management</strong> page where you can view a summary of the events contained in the logs.</p>

<p>You can add new logs to collect events and choose which event levels or severity that you want to collect for the logs.</p>

<p>The page details the following categories:</p>

<ul>
<li>Windows event logs</li>
<li>IIS logs from Operations Manager</li>
<li>Other logs that you’ve added</li>
</ul>

<h3>IIS Log File Format</h3>

<p>The only IIS log format supported at the moment is W3C. Don't worry - it's the most common format, and the default format in IIS 7 and IIS 8. So, if you log in NCSA or IIS native format, Operational Insights won't pick those logs up at all. Even in W3C format, you’ll see that not all fields are logged by default. You can read more about the format at <a href="https://technet.microsoft.com/en-us/library/cc754702(v=WS.10).aspx">Select W3C Fields to Log (IIS 7)</a>. </p>

<blockquote>
  <p>[AZURE.TIP] For the best search experience, we recommend selecting all logging fields for each website using <strong>Logging</strong> in IIS. We also recommend changing the <strong>Log File Rollover</strong> schedule for new logs to <strong>Hourly</strong> - so smaller files will be uploaded to the cloud, saving bandwidth.</p>
</blockquote>

<h2>To collect Windows event logs</h2>

<ol>
<li><p>On the <strong>Overview</strong> page, click the <strong>Log Management</strong> tile. </p></li>
<li><p>On the <strong>Log Managemen</strong>t page, click the <strong>Configure</strong> tile.</p></li>
<li><p>Type the name of the event log that you want to collect information from. If you’re unsure of the name to use, select the properties of the Windows event log in <strong>Event Viewer</strong>, copy the name in the <strong>FullName</strong> field, and paste it in the <strong>Collect events from the following Event Logs</strong> box.</p></li>
<li><p>Click the + button to add the log.</p></li>
<li><p>Select the event levels or severity that you want to collect for the log. <strong>Audit Success</strong> and <strong>Audit Failure</strong> events are not supported in this release.</p></li>
<li><p>Repeat the previous steps for each log that you want to collect information from, and then click <strong>Save</strong>.</p></li>
<li><p>Events should appear in Operational Insights in about 20 minutes, and then you can search the data. </p></li>
</ol>

<h2>To collect IIS logs from Operations Manager</h2>

<ol>
<li><p>On the <strong>Overview</strong> page, click the <strong>Log Management</strong> tile. </p></li>
<li><p>On the <strong>Log Management</strong> page, click the <strong>Configure</strong> tile.</p></li>
<li><p>Under <strong>IIS LOGS</strong>, select <strong>Collect logs from Operations Manager</strong>.</p></li>
</ol>

<h2>To work with log files</h2>

<ol>
<li><p>On the <strong>Overview</strong> page, click the <strong>Log Management</strong> tile.</p></li>
<li><p>On the <strong>Log Management</strong> page, view the event logs and choose one to work with.</p></li>
<li><p>Click any item to view detailed information about it in the <strong>Search</strong> page.</p></li>
<li><p>You can perform additional searches from the initial results and then analyze and correlate logs.</p></li>
</ol>

<p>=======
<properties 
   pageTitle="How to use Log Management" 
   description="With Log Management in Microsoft Azure Operational Insights you can view log events collected from your monitored servers." 
   services="operational-insights" 
   documentationCenter="dev-center-name" 
   authors="leylakazemi" 
   manager="jwhit" 
   editor=""/></p>

<p><tags
   ms.service="operational-insights"
   ms.devlang=""
   ms.topic="article"
   ms.tgt_pltfrm=""
   ms.workload="operational-insights" 
   ms.date="02/20/2015"
   ms.author="leylak"/></p>

<h1>How to use Log Management</h1>

<p>Before you can use Log Management in Microsoft Azure Operational Insights, you must have the intelligence pack installed. Since this pack must be configured and does not collect anything by default, it is enabled by default in every new workspace. If you have removed it, you can add it again from the Intelligence Packs Gallery, see <a href="https://msdn.microsoft.com/en-us/library/azure/dn873980.aspx">Use the Gallery to add or remove intelligence packs</a>. </p>

<p>You can add new logs to collect events and choose which event levels or severity that you want to collect for the logs.
After Log Management is configured, it will then push your collection policy down and start collecting events.
You can access some initial breakdowns of log events collected from your monitored servers by using the <strong>Log Management</strong> tile on the <strong>Overview</strong> page in Operational Insights. The tile opens the <strong>Log Management</strong> page where you can view a summary of the events contained in the logs.
Or you can use search directly, like for any other data type.</p>

<p>The page details the following categories:</p>

<ul>
<li>Windows event logs</li>
<li>IIS logs</li>
<li>Other logs that you’ve added</li>
</ul>

<h3>IIS Log File Format</h3>

<p>The only IIS log format supported at the moment is W3C. Don't worry - it's the most common format, and the default format in IIS 7 and IIS 8. So, if you log in NCSA or IIS native format, Operational Insights won't pick those logs up at all. Even in W3C format, you’ll see that not all fields are logged by default. You can read more about the format at <a href="https://technet.microsoft.com/en-us/library/cc754702(v=WS.10).aspx">Select W3C Fields to Log (IIS 7)</a>. </p>

<blockquote>
  <p>[AZURE.TIP] For the best search experience, we recommend selecting all logging fields for each website using <strong>Logging</strong> in IIS. We also recommend changing the <strong>Log File Rollover</strong> schedule for new logs to <strong>Hourly</strong> - so smaller files will be uploaded to the cloud, saving bandwidth.</p>
</blockquote>

<h2>To collect Windows event logs from Operations Manager or Directly-connected Agents</h2>

<ol>
<li><p>On the <strong>Overview</strong> page, click the <strong>Log Management</strong> tile. </p></li>
<li><p>On the <strong>Log Managemen</strong>t page, click the <strong>Configure</strong> tile.</p></li>
<li><p>Type the name of the event log that you want to collect information from. If you’re unsure of the name to use, select the properties of the Windows event log in <strong>Event Viewer</strong>, copy the name in the <strong>FullName</strong> field, and paste it in the <strong>Collect events from the following Event Logs</strong> box.</p></li>
<li><p>Click the + button to add the log.</p></li>
<li><p>Select the event levels or severity that you want to collect for the log. <strong>Audit Success</strong> and <strong>Audit Failure</strong> events are not supported in this release.</p></li>
<li><p>Repeat the previous steps for each log that you want to collect information from, and then click <strong>Save</strong>.</p></li>
<li><p>Events should appear in Operational Insights in a few minutes, and then you can search the data. </p></li>
</ol>

<h2>To collect IIS logs from Operations Manager or Directly-connected Agents</h2>

<ol>
<li><p>On the <strong>Overview</strong> page, click the <strong>Log Management</strong> tile. </p></li>
<li><p>On the <strong>Log Management</strong> page, click the <strong>Configure</strong> tile.</p></li>
<li><p>Under <strong>IIS LOGS</strong>, select <strong>Collect logs from Operations Manager</strong>.</p></li>
</ol>

<h2>To collect IIS logs and/or Windows Events from Windows Azure Diagnostics</h2>

<p>This is configurable from the Azure Management Portal, not the OpInsights portal, under your workspace, go to <strong>Storage</strong> tab and you can enable log collection from that storage account.</p>

<h2>To work with log files</h2>

<ol>
<li><p>On the <strong>Overview</strong> page, click the <strong>Log Management</strong> tile.</p></li>
<li><p>On the <strong>Log Management</strong> page, view the event logs and choose one to work with.</p></li>
<li><p>Click any item to view detailed information about it in the <strong>Search</strong> page.</p></li>
<li><p>You can perform additional searches from the initial results and then analyze and correlate logs.</p></li>
</ol>

<h1>Additional Resources</h1>

<ul>
<li><a href="http://blogs.technet.com/b/momteam/archive/2014/09/19/iis-log-format-requirements-in-system-center-advisor.aspx">IIS Log Format Requirements in Azure Operational Insights</a></li>
<li>See what other data sources and types of logs the community is asking us to implement in our <a href="http://feedback.azure.com/forums/267889-azure-operational-insights/category/88086-log-management-and-log-collection-policy">Feeback forum</a>.</li>
</ul>

<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <blockquote>
          <blockquote>
            <blockquote>
              <p>16570188386509d7be06cef831e6278b7dc6df8c</p>
            </blockquote>
          </blockquote>
        </blockquote>
      </blockquote>
    </blockquote>
  </blockquote>

<p></blockquote></p>
